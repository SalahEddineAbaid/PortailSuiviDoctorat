<div class="notification-item" 
     [class.unread]="!notification.lue"
     [class.compact]="compact"
     [class.recent]="isRecent()"
     [ngClass]="'notification-' + getNotificationColor()"
     (click)="onNotificationClick()">
  
  <!-- Icon -->
  <div class="notification-icon" [style.background-color]="'var(--color-' + getNotificationColor() + '-light)'">
    <mat-icon [style.color]="'var(--color-' + getNotificationColor() + ')'">
      {{ getNotificationIcon() }}
    </mat-icon>
  </div>

  <!-- Content -->
  <div class="notification-content">
    <div class="notification-header">
      <h4 class="notification-title">{{ notification.titre }}</h4>
      <span class="notification-time">{{ getRelativeTime() }}</span>
    </div>
    
    <p class="notification-message" [class.truncate]="compact">
      {{ notification.message }}
    </p>

    <!-- Actions -->
    <div class="notification-actions" *ngIf="showActions && !compact">
      <button class="action-button" 
              *ngIf="!notification.lue"
              (click)="markAsRead(); $event.stopPropagation()"
              matTooltip="Marquer comme lu">
        <mat-icon>done</mat-icon>
        <span>Marquer comme lu</span>
      </button>
      
      <button class="action-button delete" 
              (click)="deleteNotification($event)"
              matTooltip="Supprimer">
        <mat-icon>delete</mat-icon>
        <span>Supprimer</span>
      </button>
    </div>
  </div>

  <!-- Unread Indicator -->
  <div class="unread-indicator" *ngIf="!notification.lue"></div>

  <!-- Delete Button (compact mode) -->
  <button class="delete-button-compact" 
          *ngIf="compact"
          (click)="deleteNotification($event)"
          matTooltip="Supprimer">
    <mat-icon>close</mat-icon>
  </button>
</div>
