# Eureka Server - Peer 2 Configuration
spring.application.name=eureka-server

# Server Configuration
server.port=8762

# Eureka Instance Configuration
eureka.instance.hostname=peer2
eureka.instance.prefer-ip-address=false

# Lease renewal and expiration settings
eureka.instance.lease-renewal-interval-in-seconds=30
eureka.instance.lease-expiration-duration-in-seconds=90

# Eureka Client Configuration - Enable registration with peer1
eureka.client.register-with-eureka=true
eureka.client.fetch-registry=true
eureka.client.service-url.defaultZone=http://eureka:eureka123@localhost:8761/eureka/

# Registry fetch interval optimization
eureka.client.registry-fetch-interval-seconds=30

# Eureka Server Configuration
# Enable self-preservation mode
eureka.server.enable-self-preservation=true
eureka.server.self-preservation-mode-threshold=0.85

# Eviction settings - faster detection of down instances
eureka.server.eviction-interval-timer-in-ms=60000
eureka.server.renewal-percent-threshold=0.85

# Response cache settings
eureka.server.response-cache-update-interval-ms=30000
eureka.server.response-cache-auto-expiration-in-seconds=180

# Peer replication settings
eureka.server.peer-eureka-nodes-update-interval-ms=10000
eureka.server.peer-eureka-status-refresh-time-interval-ms=30000

# Rate limiting
eureka.server.rate-limiter-enabled=true
eureka.server.rate-limiter-burst-size=10
eureka.server.rate-limiter-registry-fetch-average-rate=500
eureka.server.rate-limiter-full-fetch-average-rate=100

# Security Configuration
spring.security.user.name=eureka
spring.security.user.password=eureka123

# Actuator Configuration
management.endpoints.web.exposure.include=health,info,metrics,prometheus
management.endpoint.health.show-details=always
management.endpoint.health.show-components=always
management.health.defaults.enabled=true
management.metrics.export.prometheus.enabled=true

# Application Information
info.app.name=Eureka Server
info.app.description=Service Discovery Server - Peer 2
info.app.version=1.0.0
